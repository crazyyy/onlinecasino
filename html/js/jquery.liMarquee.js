!function(t){var o={init:function(o){var e={direction:"left",loop:-1,scrolldelay:0,scrollamount:50,circular:!0,drag:!0,runshort:!0,hoverstop:!0,inverthover:!1,xml:!1};return o&&t.extend(e,o),this.each(function(){var o="mouseenter",i="mouseleave";e.inverthover&&(o="mouseleave",i="mouseenter");var s=e.loop,n=t(this).addClass("str_wrap").data({scrollamount:e.scrollamount}),r=!1,a=n.attr("style");if(a)for(var l=a.split(";"),f=!1,c=0;c<l.length;c++){var h=t.trim(l[c]),u=h.search(/^height/g);-1!=u&&(f=parseFloat(n.css("height")))}var v=function(){n.off("mouseleave"),n.off("mouseenter"),n.off("mousemove"),n.off("mousedown"),n.off("mouseup"),t(".str_move",n).length||n.wrapInner(t("<div>").addClass("str_move"));var a=t(".str_move",n).addClass("str_origin"),l=a.clone().removeClass("str_origin").addClass("str_move_clone"),f=0;e.hoverstop||n.addClass("noStop");var c=function(){l.clone().css({left:"100%",right:"auto",width:a.width()}).appendTo(a),l.css({right:"100%",left:"auto",width:a.width()}).appendTo(a)},h=function(){l.clone().css({top:"100%",bottom:"auto",height:a.height()}).appendTo(a),l.css({bottom:"100%",top:"auto",height:a.height()}).appendTo(a)};if("left"==e.direction)if(n.height(a.outerHeight()),a.width()>n.width()){var u=-a.width();e.circular&&(e.xml||(c(),u=-(a.width()+(a.width()-n.width())))),e.xml&&a.css({left:n.width()});var v=n.width(),d=0,p=function(){var t=Math.abs(u),o=t/n.data("scrollamount")*1e3;return 0!=parseFloat(a.css("left"))&&(t+=n.width(),o=(t-(n.width()-parseFloat(a.css("left"))))/n.data("scrollamount")*1e3),o},m=!1,g=function(){0!=s&&a.stop(!0).animate({left:u},p(),"linear",function(){t(this).css({left:n.width()}),-1==s?m=setTimeout(g,e.scrolldelay):(s--,m=setTimeout(g,e.scrolldelay))})};n.data({moveId:m,moveF:g}),e.inverthover||g(),e.hoverstop&&(n.on(o,function(){t(this).addClass("str_active"),clearTimeout(m),a.stop(!0)}).on(i,function(){t(this).removeClass("str_active"),t(this).off("mousemove"),g()}),e.drag?n.on("mousedown",function(o){e.inverthover&&a.stop(!0);var i,s,l=1,f=o.clientX;return v=a.position().left,d=v-(o.clientX-n.offset().left),t(this).on("mousemove",function(t){r=!0,s=t.clientX,l=s>f?1:-1,f=s,i=d+(t.clientX-n.offset().left),e.circular?(i<-a.width()&&0>l&&(i=0,v=a.position().left,d=v-(t.clientX-n.offset().left)),i>0&&l>0&&(i=-a.width(),v=a.position().left,d=v-(t.clientX-n.offset().left))):(i<-a.width()&&0>l&&(i=n.width(),v=a.position().left,d=v-(t.clientX-n.offset().left)),i>n.width()&&l>0&&(i=-a.width(),v=a.position().left,d=v-(t.clientX-n.offset().left))),a.stop(!0).css({left:i})}).on("mouseup",function(){t(this).off("mousemove"),e.inverthover&&a.trigger("mouseenter"),setTimeout(function(){r=!1},50)}),!1}).on("click",function(){return r?!1:void 0}):n.addClass("no_drag"))}else if(e.runshort){a.css({left:n.width()});var v=n.width(),d=0,w=function(){return f=(a.width()+a.position().left)/n.data("scrollamount")*1e3},T=function(){var o=-a.width();a.animate({left:o},w(),"linear",function(){t(this).css({left:n.width()}),-1==s?setTimeout(T,e.scrolldelay):(s--,setTimeout(T,e.scrolldelay))})};n.data({moveF:T}),e.inverthover||T(),e.hoverstop&&(n.on(o,function(){t(this).addClass("str_active"),a.stop(!0)}).on(i,function(){t(this).removeClass("str_active"),t(this).off("mousemove"),T()}),e.drag?n.on("mousedown",function(o){e.inverthover&&a.stop(!0);var i,s,l=1,f=o.clientX;return v=a.position().left,d=v-(o.clientX-n.offset().left),t(this).on("mousemove",function(t){r=!0,s=t.clientX,l=s>f?1:-1,f=s,i=d+(t.clientX-n.offset().left),i<-a.width()&&0>l&&(i=n.width(),v=a.position().left,d=v-(t.clientX-n.offset().left)),i>n.width()&&l>0&&(i=-a.width(),v=a.position().left,d=v-(t.clientX-n.offset().left)),a.stop(!0).css({left:i})}).on("mouseup",function(){e.inverthover&&a.trigger("mouseenter"),t(this).off("mousemove"),setTimeout(function(){r=!1},50)}),!1}).on("click",function(){return r?!1:void 0}):n.addClass("no_drag"))}else n.addClass("str_static");if("right"==e.direction)if(n.height(a.outerHeight()),n.addClass("str_right"),a.css({left:-a.width(),right:"auto"}),a.width()>n.width()){var u=n.width();a.css({left:0}),e.circular&&(e.xml||(c(),u=a.width()));var _=0;w=function(){var t=n.width(),o=t/n.data("scrollamount")*1e3;return 0!=parseFloat(a.css("left"))&&(t=a.width()+n.width(),o=(t-(a.width()+parseFloat(a.css("left"))))/n.data("scrollamount")*1e3),o};var T=function(){0!=s&&a.animate({left:u},w(),"linear",function(){t(this).css({left:-a.width()}),-1==s?setTimeout(T,e.scrolldelay):(s--,setTimeout(T,e.scrolldelay))})};n.data({moveF:T}),e.inverthover||T(),e.hoverstop&&(n.on(o,function(){t(this).addClass("str_active"),a.stop(!0)}).on(i,function(){t(this).removeClass("str_active"),t(this).off("mousemove"),T()}),e.drag?n.on("mousedown",function(o){e.inverthover&&a.stop(!0);var i,s,l=1,f=o.clientX;return v=a.position().left,_=v-(o.clientX-n.offset().left),t(this).on("mousemove",function(t){r=!0,s=t.clientX,l=s>f?1:-1,f=s,i=_+(t.clientX-n.offset().left),e.circular?(i<-a.width()&&0>l&&(i=0,v=a.position().left,_=v-(t.clientX-n.offset().left)),i>0&&l>0&&(i=-a.width(),v=a.position().left,_=v-(t.clientX-n.offset().left))):(i<-a.width()&&0>l&&(i=n.width(),v=a.position().left,_=v-(t.clientX-n.offset().left)),i>n.width()&&l>0&&(i=-a.width(),v=a.position().left,_=v-(t.clientX-n.offset().left))),a.stop(!0).css({left:i})}).on("mouseup",function(){e.inverthover&&a.trigger("mouseenter"),t(this).off("mousemove"),setTimeout(function(){r=!1},50)}),!1}).on("click",function(){return r?!1:void 0}):n.addClass("no_drag"))}else if(e.runshort){var _=0,w=function(){return f=(n.width()-a.position().left)/n.data("scrollamount")*1e3},T=function(){var o=n.width();a.animate({left:o},w(),"linear",function(){t(this).css({left:-a.width()}),-1==s?setTimeout(T,e.scrolldelay):(s--,setTimeout(T,e.scrolldelay))})};n.data({moveF:T}),e.inverthover||T(),e.hoverstop&&(n.on(o,function(){t(this).addClass("str_active"),a.stop(!0)}).on(i,function(){t(this).removeClass("str_active"),t(this).off("mousemove"),T()}),e.drag?n.on("mousedown",function(o){e.inverthover&&a.stop(!0);var i,s,l=1,f=o.clientX;return v=a.position().left,_=v-(o.clientX-n.offset().left),t(this).on("mousemove",function(t){r=!0,s=t.clientX,l=s>f?1:-1,f=s,i=_+(t.clientX-n.offset().left),i<-a.width()&&0>l&&(i=n.width(),v=a.position().left,_=v-(t.clientX-n.offset().left)),i>n.width()&&l>0&&(i=-a.width(),v=a.position().left,_=v-(t.clientX-n.offset().left)),a.stop(!0).css({left:i})}).on("mouseup",function(){e.inverthover&&a.trigger("mouseenter"),t(this).off("mousemove"),setTimeout(function(){r=!1},50)}),!1}).on("click",function(){return r?!1:void 0}):n.addClass("no_drag"))}else n.addClass("str_static");if("up"==e.direction)if(n.addClass("str_vertical"),a.height()>n.height()){var C=-a.height();e.circular&&(e.xml||(h(),C=-(a.height()+(a.height()-n.height())))),e.xml&&a.css({top:n.height()});var _=0;w=function(){var t=Math.abs(C),o=t/n.data("scrollamount")*1e3;return 0!=parseFloat(a.css("top"))&&(t+=n.height(),o=(t-(n.height()-parseFloat(a.css("top"))))/n.data("scrollamount")*1e3),o};var T=function(){0!=s&&a.animate({top:C},w(),"linear",function(){t(this).css({top:n.height()}),-1==s?setTimeout(T,e.scrolldelay):(s--,setTimeout(T,e.scrolldelay))})};n.data({moveF:T}),e.inverthover||T(),e.hoverstop&&(n.on(o,function(){t(this).addClass("str_active"),a.stop(!0)}).on(i,function(){t(this).removeClass("str_active"),t(this).off("mousemove"),T()}),e.drag?n.on("mousedown",function(o){e.inverthover&&a.stop(!0);var i,s,l=1,f=o.clientY;return strMoveTop=a.position().top,_=strMoveTop-(o.clientY-n.offset().top),t(this).on("mousemove",function(t){r=!0,s=t.clientY,s>f?l=1:f>s&&(l=-1),f=s,i=_+t.clientY-n.offset().top,e.circular?(i<-a.height()&&0>l&&(i=0,strMoveTop=a.position().top,_=strMoveTop-(t.clientY-n.offset().top)),i>0&&l>0&&(i=-a.height(),strMoveTop=a.position().top,_=strMoveTop-(t.clientY-n.offset().top))):(i<-a.height()&&0>l&&(i=n.height(),strMoveTop=a.position().top,_=strMoveTop-(t.clientY-n.offset().top)),i>n.height()&&l>0&&(i=-a.height(),strMoveTop=a.position().top,_=strMoveTop-(t.clientY-n.offset().top))),a.stop(!0).css({top:i})}).on("mouseup",function(){e.inverthover&&a.trigger("mouseenter"),t(this).off("mousemove"),setTimeout(function(){r=!1},50)}),!1}).on("click",function(){return r?!1:void 0}):n.addClass("no_drag"))}else if(e.runshort){a.css({});var _=0,w=function(){return f=(a.height()+a.position().top)/n.data("scrollamount")*1e3},T=function(){var o=-a.height();a.animate({top:o},w(),"linear",function(){t(this).css({top:0}),-1==s?setTimeout(T,e.scrolldelay):(s--,setTimeout(T,e.scrolldelay))})};n.data({moveF:T}),e.inverthover||T(),e.hoverstop&&(n.on(o,function(){t(this).addClass("str_active"),a.stop(!0)}).on(i,function(){t(this).removeClass("str_active"),t(this).off("mousemove"),T()}),e.drag?n.on("mousedown",function(o){e.inverthover&&a.stop(!0);var i,s,l=1,f=o.clientY;return strMoveTop=a.position().top,_=strMoveTop-(o.clientY-n.offset().top),t(this).on("mousemove",function(t){r=!0,s=t.clientY,s>f?l=1:f>s&&(l=-1),f=s,i=_+t.clientY-n.offset().top,i<-a.height()&&0>l&&(i=n.height(),strMoveTop=a.position().top,_=strMoveTop-(t.clientY-n.offset().top)),i>n.height()&&l>0&&(i=-a.height(),strMoveTop=a.position().top,_=strMoveTop-(t.clientY-n.offset().top)),a.stop(!0).css({top:i})}).on("mouseup",function(){e.inverthover&&a.trigger("mouseenter"),t(this).off("mousemove"),setTimeout(function(){r=!1},50)}),!1}).on("click",function(){return r?!1:void 0}):n.addClass("no_drag"))}else n.addClass("str_static");if("down"==e.direction)if(n.addClass("str_vertical").addClass("str_down"),a.css({top:-a.height(),bottom:"auto"}),a.height()>n.height()){var C=n.height();e.circular&&(e.xml||(h(),C=a.height())),e.xml&&a.css({top:-a.height()});var _=0;w=function(){var t=n.height(),o=t/n.data("scrollamount")*1e3;return 0!=parseFloat(a.css("top"))&&(t=a.height()+n.height(),o=(t-(a.height()+parseFloat(a.css("top"))))/n.data("scrollamount")*1e3),o};var T=function(){0!=s&&a.animate({top:C},w(),"linear",function(){t(this).css({top:-a.height()}),-1==s?setTimeout(T,e.scrolldelay):(s--,setTimeout(T,e.scrolldelay))})};n.data({moveF:T}),e.inverthover||T(),e.hoverstop&&(n.on(o,function(){t(this).addClass("str_active"),a.stop(!0)}).on(i,function(){t(this).removeClass("str_active"),t(this).off("mousemove"),T()}),e.drag?n.on("mousedown",function(o){e.inverthover&&a.stop(!0);var i,s,l=1,f=o.clientY;return strMoveTop=a.position().top,_=strMoveTop-(o.clientY-n.offset().top),t(this).on("mousemove",function(t){r=!0,s=t.clientY,s>f?l=1:f>s&&(l=-1),f=s,i=_+t.clientY-n.offset().top,e.circular?(i<-a.height()&&0>l&&(i=0,strMoveTop=a.position().top,_=strMoveTop-(t.clientY-n.offset().top)),i>0&&l>0&&(i=-a.height(),strMoveTop=a.position().top,_=strMoveTop-(t.clientY-n.offset().top))):(i<-a.height()&&0>l&&(i=n.height(),strMoveTop=a.position().top,_=strMoveTop-(t.clientY-n.offset().top)),i>n.height()&&l>0&&(i=-a.height(),strMoveTop=a.position().top,_=strMoveTop-(t.clientY-n.offset().top))),a.stop(!0).css({top:i})}).on("mouseup",function(){e.inverthover&&a.trigger("mouseenter"),t(this).off("mousemove"),setTimeout(function(){r=!1},50)}),!1}).on("click",function(){return r?!1:void 0}):n.addClass("no_drag"))}else if(e.runshort){var _=0,w=function(){return f=(n.height()-a.position().top)/n.data("scrollamount")*1e3},T=function(){var o=n.height();a.animate({top:o},w(),"linear",function(){t(this).css({top:-a.height()}),-1==s?setTimeout(T,e.scrolldelay):(s--,setTimeout(T,e.scrolldelay))})};n.data({moveF:T}),e.inverthover||T(),e.hoverstop&&(n.on(o,function(){t(this).addClass("str_active"),a.stop(!0)}).on(i,function(){t(this).removeClass("str_active"),t(this).off("mousemove"),T()}),e.drag?n.on("mousedown",function(o){e.inverthover&&a.stop(!0);var i,s,l=1,f=o.clientY;return strMoveTop=a.position().top,_=strMoveTop-(o.clientY-n.offset().top),t(this).on("mousemove",function(t){r=!0,s=t.clientY,s>f?l=1:f>s&&(l=-1),f=s,i=_+t.clientY-n.offset().top,i<-a.height()&&0>l&&(i=n.height(),strMoveTop=a.position().top,_=strMoveTop-(t.clientY-n.offset().top)),i>n.height()&&l>0&&(i=-a.height(),strMoveTop=a.position().top,_=strMoveTop-(t.clientY-n.offset().top)),a.stop(!0).css({top:i})}).on("mouseup",function(){e.inverthover&&a.trigger("mouseenter"),t(this).off("mousemove"),setTimeout(function(){r=!1},50)}),!1}).on("click",function(){return r?!1:void 0}):n.addClass("no_drag"))}else n.addClass("str_static")};e.xml?t.ajax({url:e.xml,dataType:"xml",success:function(o){for(var i=t(o).find("text"),s=i.length,r=0;s>r;r++){var a=i.eq(r),l=a.text(),f=t("<span>").text(l).appendTo(n);("left"==e.direction||"right"==e.direction)&&(f.css({display:"inline-block",textAlign:"right"}),r>0&&f.css({width:n.width()+f.width()})),("down"==e.direction||"up"==e.direction)&&(f.css({display:"block",textAlign:"left"}),r>0&&f.css({paddingTop:n.height()}))}v()}}):v(),n.data({ini:v,startheight:f})})},update:function(){var o=t(this),e=t(".str_origin",o),i=t(".str_move_clone",o);e.stop(!0),i.remove(),o.data("ini")()},destroy:function(){var o=t(this),e=t(".str_move",o),i=o.data("startheight");t(".str_move_clone",o).remove(),o.off("mouseenter"),o.off("mousedown"),o.off("mouseup"),o.off("mouseleave"),o.off("mousemove"),o.removeClass("noStop").removeClass("str_vertical").removeClass("str_active").removeClass("no_drag").removeClass("str_static").removeClass("str_right").removeClass("str_down");var s=o.attr("style");if(s){for(var n=s.split(";"),r=0;r<n.length;r++){var a=t.trim(n[r]),l=a.search(/^height/g);-1!=l&&(n[r]="")}var f=n.join(";"),c=f.replace(/;+/g,";");";"==c?o.removeAttr("style"):o.attr("style",c),i&&o.css({height:i})}if(e.stop(!0),e.length){var h=e.html();e.remove(),o.html(h)}},pause:function(){var o=t(this),e=t(".str_move",o);e.stop(!0)},play:function(){var o=t(this);t(this).off("mousemove"),o.data("moveF")()}};t.fn.liMarquee=function(e){return o[e]?o[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Метод "+e+" в jQuery.liMarquee не существует"):o.init.apply(this,arguments)}}(jQuery);